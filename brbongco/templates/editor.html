{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/editor.css') }}">
{% endblock %}

{% block page_content %}
  <div id="editor" class="pure-g">
    <textarea id="editor-textarea" class="pure-u-1 pure-u-md-1-2" v-model="input" v-attr="rows: input.split('\n').length">{{ content }}</textarea>
    <div class="pure-u-1 pure-u-md-1-2 edited-text">
      <div id="page_content" v-html="input | marked"></div>  
    </div>
    
  </div>
{% endblock %}
    
{% block extra_js %}
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/javascript" src="http://vuejs.org/js/vue.min.js"></script>
  <script type="text/javascript">
    $('.main_content').removeClass('pure-u-md-3-4');
    var vm = new Vue({
      el: '#editor',
      filters: {
        marked: marked
      }
    });
    document.getElementById('editor-textarea').focus();
  </script>
{% endblock %}
  